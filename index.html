<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Obscura Life</title>

<!-- Brand fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
<!-- Favicon -->
<link rel="icon" href="/logo/Obscura-logo.svg" type="image/svg+xml">

<!-- Preconnect hints -->
<link rel="preconnect" href="https://i.ytimg.com">
<link rel="preconnect" href="https://www.youtube-nocookie.com">
<link rel="preconnect" href="https://cdn.jsdelivr.net">

<!-- SEO / Social -->
<meta name="description" content="Obscura Creative blends editorial craftsmanship with generative AI to deliver future-forward video and interactive experiences.">
<meta property="og:title" content="Obscura Creative">
<meta property="og:description" content="Editorial | Generative AI | Experiential">
<meta property="og:url" content="https://www.obscura.life/">
<meta property="og:image" content="https://www.obscura.life/og-image.jpg">
<meta property="og:type" content="website">

<style>
:root{
  --accent-color:#0455BF;      /* blue */
  --background-color:#FFCB00;  /* yellow */
  --text-color:#1A1A1A;
  --card-bg-color:#FAFAFA;
  --border-radius-xl:1rem;
  --soft-shadow:0 10px 15px -3px rgba(0,0,0,.08),0 4px 6px -2px rgba(0,0,0,.04);
  --spectral-gradient:linear-gradient(90deg,hsl(210,80%,55%),hsl(220,80%,55%),hsl(230,80%,55%));
  --font-sans:"Red Hat Display",system-ui,sans-serif;
  --font-serif:"Red Hat Display",Georgia,serif;
  --font-display:"VT323",monospace;
}

/* ---------- Global ---------- */
body{background:var(--background-color);color:var(--text-color);font-family:var(--font-sans);margin:0;padding:0;font-size:16px;line-height:1.6;overflow-x:hidden;}
.container{max-width:1200px;margin:0 auto;padding:2rem;}
section{padding:40px 0;min-height:80vh;}
h1,h2,h3,.logo{color:var(--accent-color);font-weight:600;font-family:var(--font-serif);}
.logo{display:inline-block;width:45vw;max-width:600px;height:auto;}
.section-content{background:var(--card-bg-color);padding:2rem;border-radius:var(--border-radius-xl);box-shadow:var(--soft-shadow);margin-top:6vh;}
/* ---------- Portfolio grid (unchanged) ---------- */
/* ... (all other existing CSS above radio remains unchanged) ... */

/* ---------- RADIO ---------- */
#radio-section .section-content{display:flex;flex-direction:column;align-items:center;text-align:center;}
.radio-logo{width:200px;height:auto;margin-bottom:1rem;display:block;}
#radio-block{padding:1.5rem;margin-top:1rem;width:100%;max-width:600px;box-sizing:border-box;position:relative;}

/* Display */
#radio-display-container{width:90%;height:2.5rem;background:var(--background-color);border:2px solid var(--accent-color);border-radius:5px;margin-bottom:1rem;overflow:hidden;position:relative;display:flex;align-items:center;padding:0 .5rem;box-sizing:border-box;}
#radio-display{white-space:nowrap;font-family:var(--font-display);color:var(--card-bg-color);font-size:1.6em;position:absolute;left:0;animation:none;}
@keyframes marquee{from{transform:translateX(100%);}to{transform:translateX(-100%);}}

/* Controls grid */
.radio-controls-grid{
  display:grid;
  gap:1rem;
  grid-template-columns:repeat(5,1fr);
  grid-template-areas:"volume seekL mute seekR freq";
  width:100%;
}
.volume-component{grid-area:volume;display:flex;flex-direction:column;align-items:center;}
#seek-left  {grid-area:seekL;}
#play-pause {grid-area:mute;}
#seek-right {grid-area:seekR;}
.freq-component{grid-area:freq;display:flex;flex-direction:column;align-items:center;}

@media(max-width:600px){
  .radio-controls-grid{
      grid-template-columns:repeat(3,1fr);
      grid-template-areas:
          "volume volume mute"
          "seekL   freq   seekR";
      gap:.5rem;
  }
}

/* Mute/Unmute button (text) */
#play-pause{
  width:80px;height:45px;border-radius:8px;
  background:var(--accent-color);color:var(--background-color);
  border:none;cursor:pointer;font-weight:bold;font-size:.9rem;
  display:flex;align-items:center;justify-content:center;
}

/* Seek buttons */
.seek-button{background:var(--accent-color);color:#fff;border:none;padding:.75rem 1.25rem;border-radius:.5rem;cursor:pointer;font-weight:bold;font-size:1.1rem;}
.seek-button:hover{background-image:var(--spectral-gradient);}

/* Volume slider */
.volume-component .dial-label{margin-top:.5rem;font-weight:600;color:var(--accent-color);font-size:.9em;}
.volume-component input[type=range]{-webkit-appearance:none;appearance:none;width:100%;height:6px;background:transparent;cursor:pointer;outline:none;}
.volume-component input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:var(--accent-color);border:3px solid var(--card-bg-color);width:28px;height:28px;border-radius:50%;box-shadow:0 0 0 3px var(--accent-color);}
.volume-component input[type=range]::-moz-range-thumb{background:var(--accent-color);border:3px solid var(--card-bg-color);width:28px;height:28px;border-radius:50%;box-shadow:0 0 0 3px var(--accent-color);}
.volume-track{position:absolute;width:6px;height:100px;background:#bbb;border-radius:3px;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1;}

/* Tuning dial (unchanged) */
.freq-component .dial-label{font-weight:600;color:var(--accent-color);font-size:.9em;}
#tuning-dial{width:60px;height:60px;border-radius:50%;background:#e0e0e0;border:2px solid var(--accent-color);position:relative;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform .1s;}
#tuning-dial:hover{transform:scale(1.05);}
#tuning-dial.seeking{animation:dialTurn .3s ease-out forwards;}
@keyframes dialTurn{0%{transform:rotate(0deg);}50%{transform:rotate(90deg);}100%{transform:rotate(0deg);}}
.dial-arrow{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:12px solid var(--accent-color);position:absolute;top:5px;}

/* ---------- (rest of your existing CSS unchanged) ---------- */
</style>
</head>
<body>

<!-- ---------- HERO, PORTFOLIO, and other sections remain unchanged above ---------- -->

<!-- --------- RADIO SECTION --------- -->
<section id="radio-section" class="container">
  <div class="section-content">
    <img src="/logo/raidio.svg" alt="Obscura rAIdio Logo" class="radio-logo">
    <div id="radio-block">
      <div id="radio-display-container">
        <div id="radio-display"></div>
      </div>

      <div class="radio-controls-grid">
        <!-- Volume -->
        <div class="radio-component volume-component">
          <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="0.8" aria-label="Volume">
          <div class="volume-track"></div>
          <label for="volume-slider" class="dial-label">VOL</label>
        </div>

        <!-- Seek left -->
        <button id="seek-left"  class="seek-button" aria-label="Previous station">◀◀</button>

        <!-- Mute / Unmute -->
        <button id="play-pause" aria-label="Mute / Unmute"></button>

        <!-- Seek right -->
        <button id="seek-right" class="seek-button" aria-label="Next station">▶▶</button>

        <!-- Frequency dial -->
        <div class="radio-component freq-component">
          <div id="tuning-dial" role="button" aria-label="Tuning dial"><span class="dial-arrow"></span></div>
          <span class="dial-label">FREQ</span>
        </div>
      </div>

      <audio id="radio-audio" preload="metadata"></audio>
    </div>
  </div>
</section>

<!-- ---------- (rest of page: tools, about, footer etc. unchanged) ---------- -->

<script type="module">
/* ---------- utility imports / functions (unchanged) ---------- */
// ... (everything above initRadio remains as in your file) ...

/* ---------- RADIO LOGIC ---------- */
async function initRadio(){
  const audio       = document.getElementById('radio-audio');
  const playBtn     = document.getElementById('play-pause');
  const seekLeft    = document.getElementById('seek-left');
  const seekRight   = document.getElementById('seek-right');
  const displayEl   = document.getElementById('radio-display');
  const tuningDial  = document.getElementById('tuning-dial');
  const vol         = document.getElementById('volume-slider');
  if(!audio||!playBtn||!seekLeft||!seekRight||!displayEl||!tuningDial||!vol) return;

  /* --- playlists (unchanged except shuffles) --- */
  const AM  = [{title:'NotebookLM Podcast',url:'audio/am/NotebookLM-Podcast.mp3'}];
  const FM1 = [
    {title:'All Of My Bins',url:'audio/fm01/All-Of-My-Bins.mp3'},
    {title:'FatRatʼs Saga',url:'audio/fm01/FatRats-Saga.mp3'},
    {title:'Make the Website',url:'audio/fm01/Make-the-Website.mp3'},
    {title:'Out Exploring',url:'audio/fm01/Out-Exploring.mp3'},
    {title:'Slop Slop Slop',url:'audio/fm01/Slop-Slop-Slop.mp3'},
    {title:'Tell Me',url:'audio/fm01/Tell-Me.mp3'},
    {title:'Wizard of Moscow',url:'audio/fm01/Wizard-of-Moscow.mp3'}
  ];
  const FM2 = [
    {title:'Distracted by Skeletons',url:'audio/fm02/Distracted-by-Skeletons.mp3'},
    {title:'Good Game!',url:'audio/fm02/Good-Game.mp3'},
    {title:'Missing You (Cover)',url:'audio/fm02/Missing-You.mp3'},
    {title:'Obscura Sonnet',url:'audio/fm02/Obscura-Sonnet.mp3'},
    {title:'Prism',url:'audio/fm02/Prism.mp3'},
    {title:'Puppet',url:'audio/fm02/Puppet.mp3'},
    {title:'Quiet Anvil',url:'audio/fm02/Quiet-Anvil.mp3'},
    {title:'Too Far Apart',url:'audio/fm02/Too-Far-Apart.mp3'},
    {title:'Why Do You Look Like a Dragon',url:'audio/fm02/Why-Do-You-Look-Like-a-Dragon.mp3'}
  ];
  const ADS=[
    {title:'Ad Spot 01',url:'audio/ads/Ad01.mp3'},
    {title:'Ad Spot 02',url:'audio/ads/Ad02.mp3'},
    {title:'Ad Spot 03',url:'audio/ads/Ad03.mp3'}
  ];
  shuffleArray(FM1); shuffleArray(FM2);

  const stations=[
    {name:'88.3 Talk Radio', list:AM,  ads:false},
    {name:'103.1 Madness FM',list:FM1, ads:true },
    {name:'98.9 Uncanny FM', list:FM2, ads:true }
  ];
  const state=stations.map(()=>({
    songIdx:0,adIdx:0,playingAd:false,playhead:0,lastSeen:null,startClock:null
  }));
  let idx=0;

  /* --- helpers --- */
  function updateDisplay(text){
    displayEl.textContent=text;
    displayEl.style.animation='none';
    const boxW=displayEl.parentElement.clientWidth;
    requestAnimationFrame(()=>{
      const textW=displayEl.scrollWidth;
      if(textW>boxW){
        const dist=textW+boxW;
        const dur=dist/40;                         // 40 px/s
        displayEl.style.animation=`marquee ${dur}s linear infinite`;
      }
    });
  }

  async function loadTrack(resume=true,autoplay=true){
    return new Promise(res=>{
      if(audio._m){audio.removeEventListener('loadedmetadata',audio._m);}
      if(audio._e){audio.removeEventListener('error',audio._e);}

      const s=state[idx];
      let track;
      if(s.playingAd){
        track=ADS[s.adIdx%ADS.length];
        updateDisplay("You’re listening to Obscura rAIdio");
      }else{
        track=stations[idx].list[s.songIdx%stations[idx].list.length];
        updateDisplay(`${stations[idx].name}: ${track.title}`);
      }

      audio.src=track.url; audio.load();
      audio._m=()=>{
        let target;
        if(s.startClock===null){
          target=Math.random()*(audio.duration||30);
          s.startClock=Date.now()-target*1000;
        }else if(resume){
          const elapsed=(Date.now()-s.startClock)/1000;
          target=(audio.duration&&!Number.isNaN(audio.duration))?elapsed%audio.duration:elapsed;
        }else{
          target=0; s.startClock=Date.now();
        }
        audio.currentTime=target;
        s.playhead=target; s.lastSeen=Date.now();

        if(autoplay){audio.play().catch(()=>audio.pause());}
        else audio.pause();
        res();
      };
      audio._e=()=>{console.error('Audio load error',track.url);res();};

      audio.addEventListener('loadedmetadata',audio._m,{once:true});
      audio.addEventListener('error',audio._e,{once:true});
    });
  }

  /* song / ad sequencing */
  audio.addEventListener('ended',()=>{
    const s=state[idx];
    if(stations[idx].ads){
      s.playingAd=!s.playingAd;
      s.playingAd? s.adIdx++ : s.songIdx++;
    }else{ s.songIdx=0; }
    s.playhead=0;
    loadTrack(false,true);
  });

  audio.addEventListener('timeupdate',()=>{
    const s=state[idx];
    s.playhead=audio.currentTime;
    s.lastSeen=Date.now();
  });

  /* --- controls --- */
  audio.muted=true;
  function updateMuteUI(){playBtn.textContent=audio.muted?'UNMUTE':'MUTE';}
  updateMuteUI();
  playBtn.addEventListener('click',()=>{audio.muted=!audio.muted;updateMuteUI();});
  vol.addEventListener('input',()=>audio.volume=vol.valueAsNumber);

  async function seek(dir){
    const wasMuted=audio.muted;
    idx=(idx+dir+stations.length)%stations.length;
    tuningDial.classList.add('seeking');
    tuningDial.addEventListener('animationend',()=>tuningDial.classList.remove('seeking'),{once:true});
    await loadTrack(true,true);
    audio.muted=wasMuted; updateMuteUI();
  }
  seekLeft.addEventListener('click',()=>seek(-1));
  seekRight.addEventListener('click',()=>seek(1));
  tuningDial.addEventListener('click',()=>seek(1));

  /* initial */
  audio.volume=vol.valueAsNumber;
  await loadTrack(false,true);
}

/* --- footer easter egg & other init code unchanged ... */
document.addEventListener('DOMContentLoaded',initializeSite);
</script>
</body>
</html>